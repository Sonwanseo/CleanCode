# Chapter 1. 깨끗한 코드

## 코드가 존재하리라

코드를 자동으로 생성하는 시대는 오지 않을 것이다.

코드는 요구사항을 상세히 표현하는 수단이다.
어느 수준에 이르면 코드의 도움 없이 요구사항을 상세히 표현하기란 불가능하다.
추상화 또한 불가능하다.
기계가 실행할 정도로 상세하게 요구사항을 명시하는 작업이 프로그래밍이고 이렇게 명시한 결과가 바로 코드이다.

## 나쁜 코드

80년대 후반에 수많은 사람들의 이목을 끌던 킬러 앱이 등장하게 된다.
하지만 이 앱을 얼마안가 망해버렸다.
20년이 지난 후 작가는 그 앱을 만든 회사의 초창기 멤버를 만나 자초지종을 듣게 되는데, 이유는 나쁜 코드이다.
그들은 출시에 바빠 코드를 마구 짰고, 어느 순간부터는 더 이상 기능을 추가, 삭제, 변경할 수 없을 정도에 이르렀다.

프로그래머라면 누구나 당연히 나쁜 코드로 고생한 경험이 있다.

르블랑의 법칙
> 나중은 결코 오지 않는다.'

## 나쁜 코드로 치르는 대가

나쁜 코드는 개발 속도를 크게 떨어뜨린다.

나쁜 코드가 쌓일수록 팀 생산성은 떨어진다.
그러다가 마침내 0에 근접한다.
---
생산성이 떨어지면 관리층은 나름대로 복구를 시도한다.
생산성을 증가시키려는 희망을 품고 프로젝트에 인력을 추가로 투입한다.
하지만 새 인력은 시스템 설계에 대한 조예가 깊지 않다.
설계 의도에 맞는 변경과 설계 의도에 반하는 변경을 구분하지 못한다.
게다가 새 인력과 팀은 생산성을 높여야 한다는 극심한 압력에 시달린다.
그래서 결국은 나쁜 코드를 더 많이 양산한다.
덕택에 생산성은 더더욱 떨어져 거의 0이 된다.

### 원대한 재설계의 꿈

팀은 관리층에게 재설계를 요구한다.
그들은 이처럼 혐오스러운 코드로는 더 이상 일하지 못하겠다며 관리층에게 재설계를 요구한다.
관리층은 재설계에 자원을 쏟아붓기 싫지만 생산성이 바닥이라는 사실을 부인할 도리가 ㅇ벗다.
결국은 팀이 요구하는 대로 원대한 재설계를 허락한다.

새로운 타이거 팀이 구성된다.
모두가 타이거 팀에 합류하고 싶어한다.
하지만 가장 유능하고 똑똑한 사람들만 타이거 팀으로 차출된다.
나머지는 계속해서 현재 시스템을 유지보수한다.

타이거 팀은 기존 시스템 기능을 모두 제공하는 새 시스템을 내놓아야 한다.
또한, 그동안 기존 시스템에 가해지는 변경도 모두 따라잡아야 한다.

### 원초적 난제

한두 해 이상 우리 분야에 몸 담은 프로그래머라면 누구나 나쁜 코드가 업무 속도를 늦춘다는 사실을 익히 안다.
그럼에도 모든 프로그래머가 기한을 맞추려면 나쁜 코드를 양산할 수밖에 없다고 느낀다.

진짜 전문가는 두 번째 부분이 틀렸다는 사실을 잘 안다.
나쁜 코드를 양산하면 기한을 맞추지 못한다.
기한을 맞추는 유일한 방법은, 그러니까 빨리 가는 유일한 방법은, 언제나 코드를 최대한 깨끗하게 유지하는 습관이다.

### 깨끗한 코드라는 예술?

깨끗한 코드를 구현하는 행위는 그림을 그리는 행위와 비슷하다.
그림을 보면 대부분의 사람은 잘 그려졌는지 엉망으로 그려졌는지 안다.
그렇지만 잘 그린 그림을 구분하는 능력이 그림을 잘 그리는 능력은 아니다.
다시 말해, 깨끗한 코드와 나쁜 코드를 구분할 줄 안다고 깨끗한 코드를 작성할 줄 안다는 뜻은 아니다.

깨끗한 코드를 작성하려면 힘겹게 습득한 감각을 활용해 자잘한 기법들을 적용하는 절제와 규율이 필요하다.
열쇠는 '코드 감각'이다.

'코드 감각'이 없는 프로그래머도 때로는 나쁜 모듈을 알아본다.
하지만 그것으로 끝이다.
'코드 감각'이 있는 프로그래머는 나쁜 모듈을 보면 좋은 모듈로 개선할 방안을 떠올린다.

### 깨끗한 코드란?

- 비야네 스트롭스트룹
C++ 창시자이자 The C++ Programming Language 저자
---
> 나는 우아하고 효율적인 코드를 좋아한다. 논리가 간단해야 버그가 숨어들지 못한다. 의존성을 줄여야 유지보수가 쉬워진다. 오류는 명백한 전략에 의거해 철저히 처리한다. 성능을 최적으로 유지해야 사람들이 원칙 없는 최적화로 코드를 망치려는 유혹에 빠지지 않는다. 깨끗한 코드는 한 가지를 제대로 한다.

비야네는 '우아한'이라는 단어를 사용한다.
비야네에 따르면 깨끗한 코드는 '보기에 즐거운' 코드다.

비야네는 효율도 언급한다.
비야네가 말하는 효율이 단순히 속도만을 뜻하지는 않을 것이다.
